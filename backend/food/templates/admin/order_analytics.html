{% extends "admin/base_site.html" %}
{% load static %}

{% block content %}
<div style="padding: 20px;">
	<h1>Order Analytics Dashboard</h1>
	
	<!-- Sales Overview -->
	<div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 30px;">
		<div style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
			<h3>Total Sales</h3>
			<p style="font-size: 24px; font-weight: bold;">${{ total_sales }}</p>
		</div>
		<div style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
			<h3>Today's Sales</h3>
			<p style="font-size: 24px; font-weight: bold;">${{ today_sales }}</p>
		</div>
		<div style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
			<h3>Weekly Sales</h3>
			<p style="font-size: 24px; font-weight: bold;">${{ week_sales }}</p>
		</div>
		<div style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
			<h3>Monthly Sales</h3>
			<p style="font-size: 24px; font-weight: bold;">${{ month_sales }}</p>
		</div>
	</div>

	<!-- Order Statistics -->
	<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
		<div style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
			<h3>Order Statistics</h3>
			<ul style="list-style: none; padding: 0;">
				<li style="margin-bottom: 10px;">Total Orders: {{ order_stats.total }}</li>
				<li style="margin-bottom: 10px;">Pending: {{ order_stats.pending }}</li>
				<li style="margin-bottom: 10px;">Processing: {{ order_stats.processing }}</li>
				<li style="margin-bottom: 10px;">Completed: {{ order_stats.completed }}</li>
				<li style="margin-bottom: 10px;">Cancelled: {{ order_stats.cancelled }}</li>
			</ul>
		</div>

		<!-- Top Products -->
		<div style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
			<h3>Top Products</h3>
			<table style="width: 100%; border-collapse: collapse;">
				<thead>
					<tr>
						<th style="text-align: left; padding: 8px;">Product</th>
						<th style="text-align: right; padding: 8px;">Quantity</th>
						<th style="text-align: right; padding: 8px;">Sales</th>
					</tr>
				</thead>
				<tbody>
					{% for product in top_products %}
					<tr>
						<td style="padding: 8px;">{{ product.product__name }}</td>
						<td style="text-align: right; padding: 8px;">{{ product.total_quantity }}</td>
						<td style="text-align: right; padding: 8px;">${{ product.total_sales }}</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
</div>
{% endblock %}